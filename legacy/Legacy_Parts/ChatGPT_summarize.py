# WORKS: This file does article summarization automatically using another request to ChatGPT (gpt-4)
import os
import openai
from openai import OpenAI

def summarize_text(text):
    # Ensure your OPENAI_API_KEY environment variable is set
    OPENAI_API_KEY =os.getenv("OPENAI_API_KEY")
    client = OpenAI(api_key=OPENAI_API_KEY)

    # TODO: Manually replaced all double quotes ' with single quotes '. Use Regex for this
    text_to_summarise = "Bling Capital Blog\nA collection of product and company building guides for our founders and community\n\nHome Bling Capital Website Archives\nHow to Size a Market in 30 minutes\nFebruary 13, 2023\nVenture investors will often ask a founder the potential size of their startup. A core part of answering this question has to do with market size, commonly known as total addressable market (or 'TAM”).\n\nThe post below will outline\n\nwhy venture investors care about TAM\ncommon mistakes founders make when sizing their market(s) including examples, and\nthe Bling Capital approach\nWhy is this important?\nOur goal with market sizing is to understand how big your startup can get if things go well.\n\nVenture Capital investors often ask themselves: Is this startups market sufficiently large to support a 'venture scale” return?\n\nTo be considered 'venture scale”, a lead investor\’s equity in a startup (say 10% at the seed stage) has to have the potential to return their fund. Therefore, if a seed fund is $100M, an investor generally wants to see a path for any portfolio companies to become a $1B enterprise value company if things go well.\n\nWhat happens if you\’re seeking to raise venture capital, yet a venture investor believes your TAM is too small?\n\nIf an investor believes this during your fundraising process (rightly or wrongly), they may pass with the reason being 'not enough conviction on the market”.\nIf discovered after investing that the market is indeed too small, they may influence founders to strategically focus on a venture scale outcome which will naturally be more challenging in a smaller market.\nAs a startup founder, putting together a clear and concise 'back-of-envelope” market sizing that articulates a path to $100M and $500M, respectively, in gross profit will not only help avoid scenarios above but will also be helpful to driving business strategy and go to market approach. We use $100M and $500M as benchmarks for a 'venture scale” business and 'venture home run” business, respectively. The reason we favor gross profit over revenue for this exercise is because different markets and business models have varying gross margins, and gross profit better accounts for these differences.\n\nCommon Mistakes\nMany market-sizing approaches result in numbers that may not resemble the reality of a startup\’s current or even future potential market size. Below are four common mistakes we often see founders make when talking about market sizing, and we\’ll outline each with relevant examples using two of our portfolio companies: Lyft (Marketplace) and Lucidchart (SaaS). These examples build on each other.\n\nLyft is one of the leading ride share companies in the U.S. and is often evaluated as a marketplace.\nLucidchart is a growth stage SaaS company for diagramming, data visualization and collaboration.\nMISTAKE 1: FOCUSING ON TOP-DOWN TOTAL MARKET SIZE ALONE\nWhy it doesn\’t work: Too generic, often doesn\’t display a deep understanding of the market for this specific product\n\nExample 1a: Lyft\tExample 1b: LucidChart\’s market\n'Lyft\’s market size ('TAM”) is equal to the total spend on taxis and limos in the United States.”\t'The total spend on cloud tools is $X billion and Microsoft Vizio\’s revenues are $Y millions, so our TAM is $x+$y.”\nBetter Approach: A bottoms-up approach that includes (1) the existing market (2) how Lyft\’s approach (convenience, price, customer experience) would expand the current market (3) broader market trends (in this case, gig economy, proliferation of mobile devices) that would expand the current market.\tBetter Approach: A bottoms up approach that includes (1) your insight into the broader market trend (in this case, the # of SMEs in 2010 will 100x over the next 10 years), (2) your buyer persona, and (3) how Lucidchart is dramatically improving a free product with a product users are willing to pay for (SaaS model).\nMISTAKE 2: NOT SEGMENTING YOUR BOTTOMS-UP MARKET SIZING ANALYSIS\nWhy it doesn\’t work: Omits go to market (GTM) strategy\n\nExample 2a: Lyft\tExample 2b: LucidChart\’s market\n'There are XX millions of people who can use Lyft. If they spend $Y on rides per year, then our TAM is $XY millions”.\t'There are XX millions of people who could use LucidChart. If they pay us $Y per year, then our total addressable market is $XY millions.”\nBetter Approach: Segment your markets by city size and key characteristics:\nTier 1 = large + urban like LA\nTier 2 = mid-size+suburban like Dallas\nTier 3 = smaller + more rural like Tulsa\nThen show how many cities exist per segment and provide reasonable assumptions for average total GMV per tier. [1]\tBetter Approach: Segment your customers based on buyer persona. If the buyer is a company, you should segment the customer by company size:\nEnterprise: 10K+ employees like Google\nMidmarket: 1k-10k employees like Datadog\nSME: <100 employees such as a startup\nThen show how many companies exist per segment and provide reasonable assumptions for average ACV (annual contract value) per segment. [2]\nMISTAKE 3: STATIC GROWTH AND UNREALISTIC PENETRATION NUMBERS\nWhy it doesn\’t work: Doesn\’t illustrate your path toward more revenue ($10M, $100M, $500M) with reasonable market penetration (e.g., 1% vs 50%)\n\nExample 3a: Lyft\tExample 3b: LucidChart\’s market\n'The TAM for Tier 1, Tier 2, and Tier 3 segments is $y. At 75% market penetration we will generate $xB in revenue.”\t'The TAM for Enterprise+, Enterprise, and SME segments is $y. At 75% market penetration we will generate $xB in revenue.”\nBetter Approach: Articulate your launch city and reasonable penetration for that launch city. Use that 'launch playbook” to articulate expansion to X additional cities that look like your launch city until you reach $100M and then $500M in revenue with reasonable penetration rates (e.g., 5% per city). The idea is to 'tell the story” of how your market and business model will unfold over time. [3]\tBetter Approach: Articulate your ideal buyer and in which segments those buyers exist. Then, articulate reasonable penetration assumptions for those segments, and how you will expand over time until you reach $100M and $500M in revenue. The idea is to 'tell the story” of how your market and business model will unfold over time (e.g., # SMEs 10x in 10 years). [4] [5]\nMISTAKE 4: USING TOP-LINE REVENUE OR GMV INSTEAD OF GROSS PROFIT\nWhy it doesn\’t work: Top-line revenue or GMV leaves out the cost of delivering revenue and over inflates market size\n\nExample 4a: Lyft\tExample 4b: LucidChart\’s market\nWe need x Tier 1 cities with 2% market penetration each to hit $100M in GMV, and x Tier 1 cities and x Tier 2 cities with 1% market penetration to hit $500M in GMV.\tWe need x enterprise customers, and x SME customers paying us $y ACV, including one-time fees, with 10% market penetration to hit $100M in ARR. We expect ACV to 2x in 5 years and SMEs to 100x in 10 years so our market penetration in 10 years would be 0.1%.\nBetter Approach: Calculate Lyft\’s take rate on the GMV as revenue—GMV alone doesn\’t reflect the value the company is capturing. Then, subtract the cost of delivering that revenue to calculate Lyft\’s gross profit.\tBetter Approach: Many SaaS business models do not incur a lot of COGS. However, there are some mistakes to correct such as not breaking out annual recurring revenue vs. one-time revenue in your ACV and not including costs such as payment processing, customer support, hosting, etc.\nThe Bling Cap Approach\nAt Bling Capital, we believe your market sizing and narrative are interconnected. The exercise we often go through with founders are as follows:\n\nWhat do we need to believe for ‘Startup A\’ to get to $100M and $500M, respectively, in gross profit?\n\nHow many customers (segmented) will you have and how much will they be paying you (annually)?\nWhat is the margin on your revenue (ideally by customer segment )?\nWhat percentage of the market does that represent? (essentially market share)*\nUsing the examples above, let\’s go through market sizing for Lucidchart.\n\nWhat do we need to believe for Lucidchart to get to $100M and $500M in gross profit?\n\nWe segmented buyers based on company size. We have three tiers of buyers:\na. Tier 1 (Enterprise+) = 1000+ employee companies\nb. Tier 2 (Enterprise) = 100-1000 employee companies\nc. Tier 3 (SME) = 1-100 employee companies\nAcross all segments, there are 493K total companies in the US but we will focus on the 470K SME and Enterprise companies:\na. Tier 2: 75K companies (15%) are between 100-1000 employees\nb. Tier 3: 395K companies (80%) are between 10-100 employees\nWe have a SaaS freemium business model with 95% gross margins across segments. Our GTM is a product-led growth, with expansion driven by a sales organization.\na. Our goal average ACV for Tier 2 is $50K ($10K - $100K range), which is an average of 200 licenses per company per year ($250/year/license).\nb. Our goal average ACV for Tier 3 is $5K ($100-$20K range), which is an average of 50 licenses per company per year ($100/year).\nOur immediate revenue opportunity with our current product is $5.6B and our path to $100M is clear: We need 2K Tier 2 customers paying us $50K per year (~2.6% of market), or 20K Tier 3 customers paying us $5K per year (~5% of market).\na. Tier 2: $3.7B TAM\nb. Tier 3 $1.9B TAM\nOver time, as we launch more features (e.g., SSO), we will roll out to Tier 1 (Enterprise +) and implement playbooks to increase ACV across all segments. With just ~14% market penetration in this $9B TAM, we can reach $500M per year.\na. Tier 1: 23K * $150K = $3.4B (3.3K companies, or ~14%)\nb. Tier 2: 75K * $50K = $3.7B (10K companies, or ~12.5%)\nc. Tier 3: 395K * $5K = $1.9B (100K companies, or ~25%)\nAs extra credit, further segmenting their customer tiers based on actual or projected data points (e.g., engineering, product, design, marketing teams are core users for Lucidchart) shows an even deeper understanding of your market.\nApply It\nWhen going through a market sizing exercise with entrepreneurs, we usually start with asking questions. These questions are meant to help founders segment their customers, understand and assess reasonableness of their own assumptions, and to sanity check whether the story makes sense – all of which will lead to inputs for building a venture scale business.\n\nLet\’s do this together: Create a Google Doc and answer the following questions:\n\nWho is the customer (or title of customer, or buyer), today AND tomorrow? These can be customers you serve today or, if you have not launched, customers you intend to serve.\nWhat are the segments in your market where this customer exists? Divide your market into segments and define them.\nHow many of these customers exist per segment? What are the number of customers that are model customers in each segment? Does that change over time?\nWhat were they doing before?\nWhat is the hair on fire problem?\nWhat are they doing now?\nHow is this 10x better?\nHow do you get them to pay you?\nHow much are they paying you / will they pay you? This should be your GMV, average order value (AOV), or average contract value (ACV) per customer per year.\nWhat is the cost of delivering that revenue? Does that change over time?\nWhat is the gross profit total for each segment? Does that change over time?\nHow many customers do you need to get to $100M and $500M in gross profit, and what percentage of the market (per segment) does that represent?\nThen, show the path to do that (In one sentence, clearly summarize how big of a revenue opportunity we believe this to be for us in Year 1, 2, 3, 4, 5). How many customers in your market do you already have as customers or are currently talking to? How do you plan to get your first 10-100, 100-1000 customers (or 10x, 100x or 1000x your current customer base) at the current or future GMV, AOV, ACV?\nWith the answers to these questions, you should have inputs for your 'business formula”, using our Market Sizing Template. We\’re excited to see what you produce!\n\nFinal Takeaway\nMarket sizing helps you create a holistic and compelling narrative about your business, one that will resonate with investors and help you sharpen how you talk and think about your product evolution. Taking the time to deeply evaluate your market size with a solid methodology can be a key part of crafting a strong narrative.\n\nFOOTNOTES\n[1] Consider these questions when segmenting your markets for a location-based GTM strategy: Is it by city or metro area? What is the characteristic of cities in each segment? How many cities exist in each segment? How much market penetration do you think you can realistically achieve in every market? When do you consider a city 'activated” or 'unlocked”?What is the TAM per city? How many cities in each segment do we need to unlock in order to achieve $100M and $500M in gross profit?\n\n[2] Consider these questions when segmenting your customers for a subscription product: Do you sell top-down to businesses or through a bottoms-up product-led-growth (PLG) motion? Who is your ideal customer profile? Is it different from the buyer? At what size company does your buyer differ? What is the size of the company by number of employees? Can we organize these companies by segment? How many companies exist per segment? How much will they pay us and does it differ by segment? How will sales and marketing differ per segment? How much market penetration do you think you can realistically achieve in every logo per segment to achieve $100M and $500M in gross profit?\n\n[3] Consider these questions when thinking about location-based GTM expansion and penetration: Which tier(s) will you focus on first? What is the hypothetical cost to launch a model city in each tier? How long would it take to hypothetically payback a model city in each tier? What is the reasonable goal penetration per model city in each tier? How many cities in each tier do you need to achieve $100M and $500M in gross profit? How do you anticipate growth over the next few years? Is this a small or large percentage of the total market? Is there room for more than one winner?\n\n[4] Consider these questions when thinking about subscription GTM expansion and penetration: Which segment(s) will you focus on first? Will you be using a sales team and if so for which segments? How will sales and marketing channels differ per segment? What is the hypothetical cost to close a model logo in each segment? How long would it take to hypothetically payback a model logo in each segment? What is the goal penetration per model logo in each segment (e.g., x employees / seats per logo)? What is the path to achieving $100M and $500M in gross profit? How do you anticipate growth over the next few years towards these revenue goals? is this a small or large percentage of the total market? Is there room for more than one winner?\n\n[5] Consider these segmentations for subscription businesses: Segment customers into logo size segments of SME (<10 employees), Enterprise (11-1000 employees), and Enterprise + (1000+ employees). Then, each segment\’s logos should be assigned an ACV based on some reasonable assumptions; calculate total ACV per segment type as $xy, with x being the number of companies in the segment.\n\n"

    # Potentially add 3 todo's explicitly in the prompt
    response = client.chat.completions.create(
      model="gpt-4",
      messages=[
        {
          "role": "system",
          "content": "Summarize content you are provided with for a university student in 3 sentences, being specific about the steps provided. Do not state that the article is about market sizing. Start and end the summary with specific TODO steps."
        },
        {
          "role": "user",
          "content": text_to_summarise
        }
      ],
      temperature=0.7,
      max_tokens=100,
      top_p=1
    )

    summaryByChatBot = response.choices[0].message.content
    print(summaryByChatBot)

    return summaryByChatBot

